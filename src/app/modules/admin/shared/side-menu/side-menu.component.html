<div class="side-menu-container">
  <!-- Header Section -->
  <div class="menu-header">
    <div class="logo-section">
      <div class="logo-icon">
        <i class="material-icons">admin_panel_settings</i>
      </div>
      <div class="logo-content">
        <h1 class="logo-title">{{ title }}</h1>
        <p class="logo-subtitle">{{ subTitle }}</p>
      </div>
    </div>
  </div>

  <!-- User Profile Section -->
  <div class="user-profile">
    <div class="profile-info">
      <div class="welcome-text">{{ 'admin.sideMenu-welcome' | workyTranslations }}</div>
      <div class="user-info">
        <div class="avatar-container">
          <worky-avatar [size]="48"></worky-avatar>
          <div class="online-indicator"></div>
        </div>
        <div class="user-details">
          <span class="user-name">{{ userName }}</span>
          <span class="user-role">Administrator</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav class="menu-navigation">
    <div class="nav-section">
      <div class="section-title">
        <i class="material-icons">dashboard</i>
        <span>Navigation</span>
      </div>
      
      <div class="menu-items">
        @for (item of menuItems; track $index) {
          <div class="menu-item-wrapper">
            <!-- Parent Menu Item with Children -->
            @if (item.children && item.children.length > 0) {
              <button
                class="menu-item parent-item"
                [class.expanded]="expandedMenus[item.title?.toString() || 'Untitled']"
                (click)="toggleMenu(item.title?.toString() || 'Untitled')"
              >
                <div class="item-content">
                  <div class="item-icon">
                    <i class="material-icons">{{ getMenuIcon(item.title?.toString()) }}</i>
                  </div>
                  <div class="item-text">
                    <span class="item-title">{{ item.title || 'Untitled' }}</span>
                  </div>
                  <div class="item-arrow">
                    <span class="submenu-count">{{ item.children?.length || 0 }}</span>
                    <i class="material-icons" [class.rotated]="expandedMenus[item.title?.toString() || 'Untitled']">
                      expand_more
                    </i>
                  </div>
                </div>
              </button>

              <!-- Submenu Items -->
              @if (expandedMenus[item.title?.toString() || 'Untitled']) {
                <div class="submenu-container">
                  @for (child of item.children; track $index) {
                    <a
                      class="menu-item submenu-item"
                      [routerLink]="child.path"
                      routerLinkActive="active"
                    >
                      <div class="item-content">
                        <div class="item-icon">
                          <i class="material-icons">{{ getSubmenuIcon(child.title?.toString()) }}</i>
                        </div>
                        <div class="item-text">
                          <span class="item-title">{{ child.title || 'Untitled' }}</span>
                          <span class="item-description">{{ child.path }}</span>
                        </div>
                      </div>
                    </a>
                  }
                </div>
              }
            }

            <!-- Single Menu Item -->
            @if (!item.children || item.children.length === 0) {
              <a
                class="menu-item single-item"
                [routerLink]="item.path"
                routerLinkActive="active"
              >
                <div class="item-content">
                  <div class="item-icon">
                    <i class="material-icons">{{ getMenuIcon(item.title?.toString()) }}</i>
                  </div>
                  <div class="item-text">
                    <span class="item-title">{{ item.title || 'Untitled' }}</span>
                    <span class="item-description">{{ item.path }}</span>
                  </div>
                </div>
              </a>
            }
          </div>
        }
      </div>
    </div>
  </nav>

  <!-- Footer Section -->
  <div class="menu-footer">
    <div class="footer-section">
      <div class="section-title">
        <i class="material-icons">account_circle</i>
        <span>Account</span>
      </div>
      
      <button class="logout-item" (click)="logout()">
        <i class="material-icons">logout</i>
        <span>Logout</span>
      </button>
    </div>
  </div>
</div>
