<div class="user-management-dashboard">
  <!-- Header Section -->
  <div class="dashboard-header">
    <div class="header-content">
      <div class="header-title">
        <h1 class="title">Gesti√≥n de Usuarios</h1>
        <p class="subtitle">Administra y gestiona todos los usuarios de la plataforma</p>
      </div>
      <div class="header-actions">
        <button class="refresh-btn" (click)="refreshUsers()" [disabled]="loading">
          <i class="material-icons" [class.rotating]="loading">refresh</i>
          <span class="btn-text">Actualizar</span>
        </button>
        <button class="filters-btn" (click)="showFilters = !showFilters">
          <i class="material-icons">filter_list</i>
          <span class="btn-text">Filtros</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Statistics Cards -->
  <worky-user-stats [stats]="userStats"></worky-user-stats>

  <!-- Filters Section -->
  <worky-user-filters 
    [showFilters]="showFilters"
    (filtersApplied)="onFiltersApplied($event)"
    (filtersCleared)="onFiltersCleared()">
  </worky-user-filters>

  <!-- Users Table Section -->
  <worky-user-table 
    [users]="users"
    [loading]="loading"
    [totalUsers]="totalUsers"
    [loadingStates]="loadingStates"
    (viewUserDetails)="viewUserDetails($event)"
    (editUser)="editUser($event)"
    (toggleUserStatus)="toggleUserStatus($event)"
    (sendVerificationEmail)="sendVerificationEmail($event)">
  </worky-user-table>
  
  <!-- Pagination -->
  <worky-user-pagination 
    [currentPage]="currentPage"
    [totalPages]="totalPages"
    (pageChange)="onPageChange($event)">
  </worky-user-pagination>
</div>

<!-- User Details Modal -->
<worky-user-details-modal
  [showModal]="showUserDetails"
  [user]="selectedUser"
  (closeModal)="closeUserDetails()">
</worky-user-details-modal>

<!-- Edit User Modal -->
<worky-user-edit-modal
  [showModal]="showEditModal"
  [user]="selectedUser"
  [isUpdating]="isUpdatingUser()"
  (closeModal)="closeEditModal()"
  (updateUser)="updateUser($event)">
</worky-user-edit-modal>
